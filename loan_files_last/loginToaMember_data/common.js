//发布平台地址

//二期小贴士
//账户管理首页 省钱小贴士
ACTIVITIES_SHENGQIAN = "toa/accountmanager/right/shenqian.html";
//账户管理首页 赚钱小贴士
ACTIVITIES_ZUANQIAN = "toa/accountmanager/right/zhuanqian.html";
//账户管理首页 省心小贴士
ACTIVITIES_SHENGXIN = "toa/accountmanager/right/shenxin.html";
//账户管理首页 最新优惠小贴士
ACTIVITIES_ZUIXINYOUHUI = "toa/accountmanager/inc_act.html";
//账户管理首页 门店优惠小贴士
ACTIVITIES_MENDIANYOUHUI = "toa/accountmanager/inc_pro.html";

//平安账户-服务信息小贴士
ACTIVITIES_ZUIXINYOUHUI_ZHANGHUGAILAN = "toa/accountmanager/right/inc_act2.html";
//账户概览 门店优惠小贴士
ACTIVITIES_MENDIANYOUHUI_ZHANGHUGAILAN = "toa/accountmanager/right/inc_pro2.html";

//手动账户管理 增加小贴士
ACTIVITIES_MANUACCOUNT_ADD = "toa/accountmanager/right/add_acc_hand.html";
//手动账户管理 修改小贴士
ACTIVITIES_MANUACCOUNT_EDIT = "toa/accountmanager/right/acc_modify.html";
//手动账户管理 删除小贴士1
ACTIVITIES_MANUACCOUNT_DEL = "toa/accountmanager/right/inc_act2.html";
//手动帐户-帐户设置 小贴士1
ACTIVITIES_MANUACCOUNT_SET = "toa/accountmanager/right/inc_act2.html";
//修改/删除提醒设置 小贴士2
ACTIVITIES_MANUACCOUNT_SET2 = "toa/accountmanager/right/inc_pro2.html";

//提醒服务 我的提醒小贴士
ACTIVITIES_MYREMINDER = "toa/accountmanager/right/inc_remind.html";

//修改/删除提醒设置 小贴士1
ACTIVITIES_MYREMINDER_SET = "toa/accountmanager/right/inc_act2.html";
//修改/删除提醒设置 小贴士2
ACTIVITIES_MYREMINDER_SET2 = "toa/accountmanager/right/inc_pro2.html";

//网上缴费 网上缴费小贴士
ACTIVITIES_ONLINEPAY = "toa/accountmanager/right/inc_act2.html";
//网上缴费 网上缴费小贴士2
ACTIVITIES_ONLINEPAY2 = "toa/accountmanager/right/inc_pro2.html";

//平安资产负债 账户添加小贴士
ACTIVITIES_PAINSERT_ACCOUNT = "toa/accountmanager/right/add_list_pa.html";
//平安资产负债 账户添加平安保险小贴士
ACTIVITIES_ADDINSURANCE_ACCOUNT = "toa/accountmanager/right/add_insurance.html";
//平安资产负债 数据更新小贴士
ACTIVITIES_PAUPDATE_ACCOUNT = "toa/accountmanager/right/update_inc.html";
//平安资产负债 账户设置小贴士
ACTIVITIES_PASET_ACCOUNT = "toa/accountmanager/right/inc_act2.html";
//平安资产负债 账户设置小贴士1
ACTIVITIES_PASET_ACCOUNT2 = "toa/accountmanager/right/inc_pro2.html";
//平安账户-帐户设置小贴士
ACTIVITIES_PADELETE_ACCOUNT = "toa/accountmanager/right/inc_act2.html";
//平安资产负债 账户删除小贴士1
ACTIVITIES_PADELETE_ACCOUNT2 = "toa/accountmanager/right/inc_pro2.html";

//账户管理常见问题 账户管理常见问题页面
ACTIVITIES_QUESTION = "toa/accountmanager/faq/update.html";



//最新活动 整合账户
//改为使用新CMS后台发布页面--shenxiangwen
ACTIVITIES_ACCOUNTS = "youhuihuodong/youhuihuodong_right_white2.shtml";
//最新活动 个人信息管理
ACTIVITIES_PERSONINFO = "toa/activities/personinfo/inc.html";
//最新活动 理财工具
ACTIVITIES_FINANCETOOLS = "toa/activities/financetools/inc.html";
//最新活动 保险
ACTIVITIES_INSURANCE = "toa/activities/insurance/inc.html";
//最新活动 银行
ACTIVITIES_BANK = "toa/activities/bank/inc.html";
//最新活动 信用卡
ACTIVITIES_CREDITCARD = "toa/activities/creditcard/inc.html";
//最新活动 信托
ACTIVITIES_INTRUST = "toa/activities/intrust/inc.html";
//最新活动 年金
ACTIVITIES_ANNUITY = "toa/activities/groupannuity/inc.html";
//最新活动 VIP
ACTIVITIES_VIP = "toa/activities/vipservice/inc.html";
//最新活动 健康险
//改为使用新CMS后台发布页面--shenxiangwen
ACTIVITIES_HEALTHLIFE="youhuihuodong/youhuihuodong_right_white2.shtml";




//小贴士 注册
USEHELP_REGISTER = "toa/usehelp/sign/sign_register_inc.html";

//小贴士 登录
USEHELP_LOGON = "toa/usehelp/sign/sign_logon_inc.html";
//小贴士 重设密码
USEHELP_RESETPASS = "toa/usehelp/sign/sign_resetpass_inc.html";
//小贴士 恢复一账通
USEHELP_RESTORE = "toa/usehelp/sign/sign_restore_int.html";
//小贴士 其他
USEHELP_OTHERS = "toa/usehelp/sign/sign_others_inc.html";
//小贴士 整合账户
USEHELP_ACCOUNTS = "toa/usehelp/integratedaccounts/accounts_pingan_inc.html";
//小贴士 个人信息管理
USEHELP_PERSONALINFO = "toa/usehelp/personalinfo/personalinfo_inc.html";
//小贴士 理财工具
USEHELP_FINANCETOOLS = "toa/usehelp/financetools/financetools_inc.html";
//小贴士 个人寿险
USEHELP_PERSONLIFE = "toa/usehelp/insurance/insure_personlife_inc.html";
//小贴士 个人产险
USEHELP_PROPERTY = "toa/usehelp/insurance/insure_property_inc.html";
//小贴士 银行
USEHELP_BANK = "toa/usehelp/bank/bank_bankbalance_inc.html";
//小贴士 信用卡
USEHELP_CREDITCARD = "toa/usehelp/creditcard/creditcard_home_inc.html";
//小贴士 信托
USEHELP_INTRUST = "toa/usehelp/intrust/intrust_inc.html";
//小贴士 团体寿险
USEHELP_GROUPLIFE = "toa/usehelp/insurance/insure_grouplife_inc.html";
//小贴士 年金
USEHELP_ANNUITY = "toa/usehelp/groupannuity/groupannuity_inc.html";
//小贴士 VIP
USEHELP_VIP = "toa/usehelp/vipservice/vipservice_inc.html";
//健康险
USEHELP_HEALTHLIFE="toa/usehelp/healthinsurance/searchpolicy.html";

//小贴士 手机一账通介绍
USEHELP_MOBILEINTRO = "toa/mobile/qa/introduction_inc.html";
//小贴士 手机一账通支持手机列表
USEHELP_MOBILELIST = "toa/mobile/qa/mobilelist_one_inc.html";
//小贴士 设置或重置手机一账通密码
USEHELP_MOBILEPW = "toa/mobile/qa/login_pw_inc.html";


//未添加保险
USEHELP_ACCOUNTS_INSURANCE = "changjianwenti/right/not_add_insurance.shtml";
//未添加信用卡
USEHELP_ACCOUNTS_CREDITCARD = "changjianwenti/right/not_add_creditcard.shtml";
//未添加银行
USEHELP_ACCOUNTS_BANK = "changjianwenti/right/not_add_bank.shtml";
//未添加基金		基金没上线暂不使用，保存'未添加基金'中使用小帖士。ex-wangcheng001
USEHELP_ACCOUNTS_FUND = "changjianwenti/right/not_add_fund.shtml";
//未添加证券
USEHELP_ACCOUNTS_PAPER = "changjianwenti/right/not_add_paper.shtml";
//未添加信托
USEHELP_ACCOUNTS_INTRUST = "changjianwenti/right/not_add_intrust.shtml";
//未添加其它
USEHELP_ACCOUNTS_OTHER = "changjianwenti/right/not_add_other.shtml";

//TOA QA
//注册登录
QA_REGISTER = "toa/usehelp/sign/index.html";
//整合账户
QA_ACCOUNTS = "toa/usehelp/integratedaccounts/index.html";
//保险
QA_INSURANCE = "toa/usehelp/insurance/index.html";
//信用卡
QA_CREDITCARD = "toa/usehelp/creditcard/index.html";
//信托
QA_INTRUST = "toa/usehelp/intrust/index.html";
//企业年金
QA_GROUPANNUITY = "toa/usehelp/groupannuity/index.html";
//VIP服务
QA_VIPSERVICE= "toa/usehelp/vipservice/index.html";
//理财工具
QA_FINANCETOOLS= "toa/usehelp/financetools/index.html";
//个人信息管理
QA_PERSONALINFO= "toa/usehelp/personalinfo/index.html";
//银行
QA_BANK= "toa/usehelp/bank/index.html";
//如何联系一帐通
QA_HOWCONTACT= "toa/usehelp/howcontact/index.html";
//安全性相关问题
QA_ABOUTSAFE= "toa/usehelp/aboutsafe/index.html";
//关于万里通积分问题
QA_ABOUTWANLITONG= "toa/usehelp/aboutwanlitong/index.html";


//手机一帐通常见问题
QA_MOBILE= "toa/mobile/qa/qa.html";

//平安账户添加页面右侧小贴士
ACTIVITIES_ADD_CARD = "toa/accountmanager/right/add_bank.html";

	function trimEmpty(value){
	  	var value1 = trim(value);
	  	if (value1.length < 1){
	  		return '';
	  	}
	  	var newValue = '';
	  	for (var i=0; i<value1.length; i++){
	  		if(value1.charAt(i) != '' && value1.charAt(i) != ' '){
	  		  newValue += value1.charAt(i);
	  		}
	  	}
	  	return newValue;
	
	}	


	function trim(s){
	    s=removebeforechar(s);
	    s=removeafterchar(s);
	    return s;
	}
	//去前空格
	function removebeforechar(t)
	{
	  if(t.charCodeAt(0)==32 || t.charCodeAt(0)==12288)
	  {
	    t=t.slice(1,t.length);
	    return   removebeforechar(t);
	  }
	  else
	   {
	     return t;
	   }
	}
	//去后空格
	function removeafterchar(t)
	{
	  if(t.charCodeAt(t.length-1)==32 || t.charCodeAt(t.length-1)==12288)
	  {
	    t=t.slice(0,t.length-1);
	    return   removeafterchar(t);
	  }
	  else
	   {
	     return t;
	   }
	}


//统一日期格式
Date.prototype.format = function(pattern){
	var year=this.getFullYear();
	var year=this.getFullYear();
	var day=this.getDate();
	var month=this.getMonth()+1;
	var hour=this.getHours();
	var minute=this.getMinutes();
	var second=this.getSeconds();
	month=month>9?month:"0"+month;
	day=day>9?day:"0"+day;
	hour=hour>9?hour:"0"+hour;
	minute=minute>9?minute:"0"+minute;
	second=second>9?second:"0"+second;
	
	if(!pattern){
		pattern="yyyy-MM-dd";
	}
	pattern=pattern.replace(/yyyy/g,year);//年
	pattern=pattern.replace(/MM/g,month);//月
	pattern=pattern.replace(/dd/g,day);//日
	pattern=pattern.replace(/hh/g,hour);//时
	pattern=pattern.replace(/mm/g,minute);//分
	pattern=pattern.replace(/ss/g,second);//秒
	return(pattern);
}

//把当前的yyyyMMdd型的转化为Date型
strToDate = function(str){
	var year = str.substring(0,4);
	var month = str.substring(4,6)-1;
	var day = str.substring(6,8);
	
	var hour = str.substring(8,10);
	var minute = str.substring(10,12);
	var second = str.substring(12,14);

	var converDate = new Date(year,month,day,hour,minute,second);
	return converDate;
}

getDayTransCN = function(num){
	var x = new Array("星期日","星期一","星期二","星期三","星期四","星期五","星期六");   
	return s = x[num];   
}

//追加页面装载事件
addLoadEvent = function(func) {
  var oldonload = window.onload;
  if (typeof window.onload != 'function') {
    window.onload = func;
  } else {
    window.onload = function() {
      oldonload();
      func();
    }
  }
}

//元素绑定事件
eventBind = function(_obj,_event,_fun,_flag)
{		
	_flag=_flag||false;
	var _browserType=detect();
	if(_browserType.browser.ie)
	{
			_obj.attachEvent("on"+_event,_fun);
	}
	else
	{
			_obj.addEventListener(_event,_fun,_flag);
	}
}

//元素解除绑定事件
eventUnbind = function(_obj,_event,_fun,_flag)
{
	_flag=_flag||false;
	var _browserType=detect();
	if(_browserType.browser.ie)
	{
			_obj.detachEvent("on"+_event,_fun);
	}
	else
	{
			_obj.removeEventListener(_event,_fun,_flag);
	}
}


//判断是否为空
empty = function(s)
{
	return typeof(s)=="undefined"||s==null||s=="";
}

//检查浏览器
detect = function() 
{
	var agent=navigator.userAgent;
	var opera=(agent.indexOf("Opera")!=-1);
	var ie=(agent.indexOf("MSIE")!=-1);
	var gecko=(agent.indexOf("Gecko")!=-1);
	var mozilla=(agent.indexOf("Mozilla")!=-1);
	var ns=(agent.indexOf("Netscape")!=-1);
	var result=
	{
		browser:
		{
			opera:opera,ie:ie,gecko:gecko,mozzila:mozilla,ns:ns
		}
		,version:navigator.appVersion
	};
	return result;
}

//字符串转XML对象
parseString = function(str)
{
	var _d;
	try
	{
		_d=new ActiveXObject("microsoft.XMLDOM");
		_d.loadXML(str);
		var xml=_d.documentElement;
		return xml;
	}
	catch(e)
	{
		_d=new DOMParser();
		var doc=_d.parseFromString(str,"text/xml");
		var _xml=doc.documentElement;
		return _xml;
	}
}

//取节点内容
getNodeText = function(_81)
{
	if(detect().browser.ie)
	{
		var _82=_81.text;
		return _82;
	}
	else
	{
		return _81.textContent;
	}
}

/*------------------------------------------------------------------------------------*/

//设置cookie
setCookie = function(name,value,days,path,domain,secure){
	var expires=-1;
	if(days && typeof days=="number" && days>=0)
	{
			var d=new Date();
			d.setTime(d.getTime()+(days*24*60*60*1000));
			expires=d.toGMTString();
	}
	value=escape(value);
	document.cookie=name+"="+value+";"+(expires!=-1?" expires="+expires+";":"")+(path?"path="+path:"")+(domain?"; domain="+domain:"")+(secure?"; secure":"");
}

//取cookie
getCookie = function(name){
	var idx=document.cookie.lastIndexOf(name+"=");
	if(idx==-1)
	{
			return null;
	}
	var entryFlag =document.cookie.substring(idx+name.length+1);
	var end=entryFlag.indexOf(";");
	if(end==-1)
	{
			end=entryFlag.length;
	}
	entryFlag=entryFlag.substring(0,end);
	entryFlag=unescape(entryFlag);
	return entryFlag;
}

//删除cookie 
delCookie = function(name){ 
	var exp = new Date(); 
	exp.setTime(exp.getTime() - 1); 
	var cval=getCookie(name); 
	//alert(cval);
	if(cval!=null) 
		document.cookie= name + "="+cval+";expires="+exp.toGMTString(); 
}

//
formatDecimal = function(numObj) {
   
   var str = numObj.toString();
   
   if (numObj >= 1000) {
		var sepPos = str.indexOf(".");
		var result = "";
		var num = str;
		if (sepPos > -1) {
			num = str.substring(0,sepPos);
			//alert(num);
			result = str.substring(sepPos);
		}
		var num1 = "";
		while (num.length>3) {
	         num1 = num.substring(num.length-3);
	         //alert(num1);
	         num = num.substring(0,num.length-3);
	         //alert(num);
	         result = "," + num1 + result;
		}
        result = num + result;
        //alert(result);
        return result;
	}
	else
		return str;
}

//显示一账通注册协议
openTermsView = function(){
	window.open('./register_logon/terms.jsp','termsWinObj','top=50,left=120,location=no,menubar=no,toolbar=no,width=810,height=600,directories=0,scrollbars=1,resizable=0,status=0,dependent=0');
}

//显示忘记用户名提示
openForgetUsernameView = function(){
	window.open('./retrieve.screen','termsWinObj','location=no,menubar=no,toolbar=no,directories=0,scrollbars=1,resizable=0,status=0,dependent=0');
}

//显示一账通安全提示
openSecurityView = function(){
	window.open('./aboutTOASecurityNSZ.screen?flag=open','securityWinObj','top=50,left=120,location=no,menubar=no,toolbar=no,width=810,height=600,directories=0,scrollbars=1,resizable=0,status=0,dependent=0');
}

//显示IE设置提示
openIeSettingView = function(){
	window.open('./ie_setting.jsp','ieSettingWinObj','height=400, width=835, top=200, left=200, toolbar=no, menubar=no, scrollbars=yes, resizable=no,location=no, status=no');
}



//
isInstallActiveX = function(){
	var support = true;
    var install = 0;
    try {
    	var obj = new ActiveXObject("PaicEnc.Enc");        
        if (obj) {
        	install = 1;
        	delete obj;
        }
    } catch (ex) {    
    	
    }
	return install;
}

/*
var wantExit = false;
window.onbeforeunload = function() 
{
	if (event.clientX>document.body.clientWidth && event.clientY<0||event.altKey){
		wantExit = true;
		window.event.returnValue="\n您是否要退出一帐通?\n";
	} 
}
window.onfocus = function(){
	wantExit = false;
}

window.onunload = function(){
	if (wantExit){
		window.open("../loginOff.do");
	}
}
*/

////屏蔽鼠标右键
function click(e) {
	if (document.all) { //ie
  		if (event.button==1||event.button==2||event.button==3) {
   			oncontextmenu='return false';
  		}
 	}
 	if (document.layers) { //ff
  		if (e.which == 3) {
   			oncontextmenu='return false';
  		}
 	}
}
if (document.layers) {//other
	document.captureEvents(Event.MOUSEDOWN);
}

document.onmousedown=click;
document.oncontextmenu = new Function("return false;");


//屏蔽退格键(backspace) 但文本框中还可用
document.onkeydown = function () {backSpace(true);} 

function backSpace(yesOrNo){
	try {
		if(window.event.keyCode == 8 && yesOrNo){ 
			if(event.srcElement.tagName=="INPUT" && event.srcElement.type =="text")
				return true;
			else{
				window.event.keyCode = 0;        
				return false;  
	       	}  
	    }
	    //屏蔽F5
	    else if (window.event.keyCode == 116){
	    	event.keyCode=0;
	    	event.returnValue=false; 
	    	return false;
	    }
	    //屏蔽 Alt+ 方向键 ←   //屏蔽 Alt+ 方向键 → 
	    else if ((window.event.altKey)&& (window.event.keyCode == 37 || window.event.keyCode == 39)){
	    	event.returnValue=false; 
	    }
	    //屏蔽F11
	    else if (window.event.keyCode == 122){
	    	event.keyCode=0;
	    	event.returnValue=false; 
	    	return false;
	    }
	    //屏蔽 Ctrl+n
	    else if (window.event.ctrlKey && window.event.keyCode == 78){
	    	event.returnValue=false; 
	    }
	    //屏蔽 shift+F10
	    else if (window.event.shiftKey && window.event.keyCode == 121){
	    	event.returnValue=false; 
	    }
	    // ctrl + shift + s 开启
	    else if (window.event.shiftKey && window.event.ctrlKey && window.event.keyCode=='83'){
	    	if (!document.getElementById('debugInfoText')){
		    	try{
					var __divObj = document.createElement("div");
					__divObj.setAttribute("id","debugInfoDiv");
					__divObj.style.display = "none";
					document.body.appendChild(__divObj);
					__divObj.innerHTML = "DEBUG INFO:<br/><textarea id='debugInfoText' cols=70 rows=15 ></textarea>";
				}
				catch(e){
				}
	    	}
	    }
	    // ctrl + shift + a 显示
	    else if (window.event.shiftKey && window.event.ctrlKey && window.event.keyCode=='65'){
	    	if (document.getElementById('debugInfoDiv')){
		    	document.getElementById('debugInfoDiv').style.display = 'block';
	    	}
	    }
	    // ctrl + shift + h 隐藏
	    else if (window.event.shiftKey && window.event.ctrlKey && window.event.keyCode=='72'){
	    	if (document.getElementById('debugInfoDiv')){
		    	document.getElementById('debugInfoDiv').style.display = 'none';
	    	}
	    }
	    // ctrl + shift + c  清空
	    else if (window.event.shiftKey && window.event.ctrlKey && window.event.keyCode=='67'){
	    	if (document.getElementById('debugInfoText')){
		    	document.getElementById('debugInfoText').value = '';
	    	}
	    }
	    else{
	    	return true;
	    }
	} catch (e) {
		
	}
}

function logInfo(info){
	try{
		//alert(info);
		
		/*
		if (document.getElementById('debugInfoText')){
			var _debug = document.getElementById('debugInfoText');
			_debug.value += "\n\n" + info;
		}
		else{
			try{
				var __divObj = document.createElement("div");
				__divObj.setAttribute("id","debugInfoDiv");
				__divObj.style.display = "none";
				__divObj.innerHTML = "DEBUG INFO:<br/><textarea id='debugInfoText' cols=70 rows=15 >" + info + "</textarea>";
				document.body.appendChild(__divObj);
			}
			catch(e){
			}
		}
		*/

	}catch(e){
	}
}

function WinOpen(url,width,height,flag) {
         var winWidth = width || 1024;
         var winHeight = height || 768;
         var winStyle = "";
         if(flag || flag == "yes")
         	winStyle = "menubar=yes,toolbar=yes,status=yes,location=yes,scrollbars=yes,resizable=1";
         else
        	winStyle = "menubar=no,toolbar=no,status=no,location=no,scrollbars=yes,resizable=0";
         winStyle += ",width=" + winWidth + ",height=" + winHeight;
         winStyle += ",top=" + (screen.Height - winHeight) / 2 + ",left=" + (screen.Width - winWidth) / 2;
         window.open(url,"",winStyle);
}


function dynamicFormSubmit(action,target){
	var target = target || "_self";
	var form=document.createElement('form');　
	document.body.appendChild(form);　
	form.method = "get";
	form.action = action;
	form.target = target;
	form.submit();
	document.body.removeChild(form);　
}


function recordLog(formID)
{ 
	return function(event){
		event = event || window.event;
		if(!isKeyDown){
			if((((event.clientX>150 && event.clientX<190)&&(event.clientY>-60&&event.clientY<-25))||(event.clientX<document.body.clientWidth && event.clientY<document.body.clientHeight && event.clientY>35))){
				isRefresh = true;
			}
		}
		if(!isRefresh){
			if(window.isSaveToProcess()){
				document.getElementById(formID).action = "./recLogWhenRegOrUpgradeFail.do";
				document.getElementById(formID).method = "post";
				document.getElementById(formID).onSubmit = true;
				document.getElementById(formID).submit();
			}
		}
	} 
}

function handleStringParameter(obj){
	var paramete=obj;
	if('undefined'==paramete || null==paramete || 0==paramete.value.length || " "==paramete.value){
		paramete="";
	}else{
		paramete=paramete.value;
	}
	return paramete;
}

jumpLeftMenu = function(menuId,menusubId){
	try{
		if (menusubId){
			var obj = top.frames['body'].frames['left'].document.all[menuId];
			top.frames['body'].frames['left'].document.all[menuId].click();
			obj.parentNode.className = "collapse"
			top.frames['body'].frames['left'].document.all[menusubId].click();
		}
		else{
			var obj = top.frames['body'].frames['left'].document.all[menuId];
			top.frames['body'].frames['left'].document.all[menuId].click();
		}
	}
	catch(e){
		//alert(e);
	}
}
	

function checkStrongerPwd(value,uid,mobile,birthday,idcard) {
	var regex1 = /^[a-zA-Z0-9]{6,16}$/;
	var regex2 = /^[a-zA-Z]{6,16}$/;
	var regex3 = /([0-9])\1{2}/;
	var regex4 = /(?:(?:0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9)){3}|(?:9(?=8)|8(?=7)|7(?=6)|6(?=5)|5(?=4)|4(?=3)|3(?=2)|2(?=1)|1(?=0)){3})\d/; //123454321
 	var regex5 = /^[0-9]{6,16}$/;
  	var flag = false;

	if (value.length<6 ) {
		return "密码不能少于6位，请您重新设置。";
	}
	if (value.length>16 ) {
		return "密码不能超过16位，请您重新设置。";
	}
	if (!regex1.test(value)) {
		return "密码不能含有特殊符号和空格，请您重新设置。";
	}
	if (regex2.test(value)) {
		return "请不要设置纯字母的密码，请您重新设置。";
	}
	if (uid != '' && uid != null && value.toLowerCase()===uid.toLowerCase()) {
		return "请不要将自己的账号作为密码，请您重新设置。";
	}
	if (regex5.test(value)) {
	  flag = true;
	}
	if (flag && regex3.test(value)) {
		return "密码中同一数字不能出现连续3次及以上重复，请您重新设置。";
	}
	if (flag && regex4.test(value)) {
		return "密码中不能出现连续4位及以上数字升、降序排列，请您重新设置。";
	}
	if (flag && !CountChar(value,2,3)) {
		return "密码中不能出现2个数字连续3次及以上重复，请您重新设置。";
	}
	if (flag && !CountChar(value,3,2)) {
		return "密码中不能出现3个数字的连续2次及以上重复，请您重新设置。";
	}
	if(flag && birthday != '' && birthday != null){			
		var format1 = birthday.substring(0, 4)+ birthday.substring(5, 7) + birthday.substring(8, 10);
		var format2 = birthday.substring(0, 4)+ birthday.substring(8, 10) + birthday.substring(5, 7);
		var format3 = birthday.substring(5, 7) + birthday.substring(8, 10)+ birthday.substring(0, 4);
		var format4 = birthday.substring(8, 10) + birthday.substring(5, 7) + birthday.substring(0, 4);
		var format5 = birthday.substring(5, 7) + birthday.substring(0, 4) + birthday.substring(8, 10);
		var format6 = birthday.substring(8, 10) + birthday.substring(0, 4) + birthday.substring(5, 7);
		
		var format7 = birthday.substring(2, 4)+ birthday.substring(5, 7) + birthday.substring(8, 10);
		var format8 = birthday.substring(2, 4)+ birthday.substring(8, 10) + birthday.substring(5, 7);
		var format9 = birthday.substring(5, 7) + birthday.substring(8, 10)+ birthday.substring(2, 4);
		var format10 = birthday.substring(8, 10) + birthday.substring(5, 7) + birthday.substring(2, 4);
		var format11 = birthday.substring(5, 7) + birthday.substring(2, 4) + birthday.substring(8, 10);
		var format12 = birthday.substring(8, 10) + birthday.substring(2, 4) + birthday.substring(5, 7);
		
		if (value === format1 || value === format2 || value === format3 || value === format4 || value === format5 || value === format6 || value === format7 || value === format8 || value === format9 || value === format10 || value === format11 || value === format12){
			return "密码中不能包含出生日期，请您重新设置。";
		}
	}
	if (flag && mobile != '' && mobile != null && (mobile.substring(0,6) === value || mobile.substring(5,11) === value || mobile === value)) {
		return "密码不能是电话号码前、后6位，请您重新设置。";
	}
	if (idcard != '' && idcard != null && value.toLowerCase()===idcard.toLowerCase()) {
		return "请不要将自己的证件号作为密码，请您重新设置。";
	}
	else {
		return true;
	}
 
}

function checkStrongerPwdForMobile(value,uid,mobile,birthday,idcard) {
	var regex1 = /^[a-zA-Z0-9]{6,16}$/;
	var regex2 = /^[a-zA-Z]{6,16}$/;
	var regex3 = /([0-9])\1{2}/;
	var regex4 = /(?:(?:0(?=1)|1(?=2)|2(?=3)|3(?=4)|4(?=5)|5(?=6)|6(?=7)|7(?=8)|8(?=9)){3}|(?:9(?=8)|8(?=7)|7(?=6)|6(?=5)|5(?=4)|4(?=3)|3(?=2)|2(?=1)|1(?=0)){3})\d/; //123454321
 	var regex5 = /^[0-9]{6,16}$/;
  	var flag = false;

	if (value.length<6 ) {
		return "密码不能少于6位。";
	}
	if (value.length>16 ) {
		return "密码不能超过16位。";
	}
	if (!regex1.test(value)) {
		return "密码不能含有特殊符号和空格。";
	}
	if (regex2.test(value)) {
		return "请不要设置纯字母的密码。";
	}
	if (uid != '' && uid != null && value.toLowerCase()===uid.toLowerCase()) {
		return "请不要将自己的账号作为密码。";
	}
	if (regex5.test(value)) {
	  flag = true;
	}
	if (flag && regex3.test(value)) {
		return "密码中数字不能连续3次及以上重复。";
	}
	if (flag && regex4.test(value)) {
		return "密码中数字不能连续4位及以上排序。";
	}
	if (flag && !CountChar(value,2,3)) {
		return "密码中2个数字不能连续3次及以上重复。";
	}
	if (flag && !CountChar(value,3,2)) {
		return "密码中3个数字不能连续2次及以上重复。";
	}
	if(flag && birthday != '' && birthday != null){			
		var format1 = birthday.substring(0, 4)+ birthday.substring(5, 7) + birthday.substring(8, 10);
		var format2 = birthday.substring(0, 4)+ birthday.substring(8, 10) + birthday.substring(5, 7);
		var format3 = birthday.substring(5, 7) + birthday.substring(8, 10)+ birthday.substring(0, 4);
		var format4 = birthday.substring(8, 10) + birthday.substring(5, 7) + birthday.substring(0, 4);
		var format5 = birthday.substring(5, 7) + birthday.substring(0, 4) + birthday.substring(8, 10);
		var format6 = birthday.substring(8, 10) + birthday.substring(0, 4) + birthday.substring(5, 7);
		
		var format7 = birthday.substring(2, 4)+ birthday.substring(5, 7) + birthday.substring(8, 10);
		var format8 = birthday.substring(2, 4)+ birthday.substring(8, 10) + birthday.substring(5, 7);
		var format9 = birthday.substring(5, 7) + birthday.substring(8, 10)+ birthday.substring(2, 4);
		var format10 = birthday.substring(8, 10) + birthday.substring(5, 7) + birthday.substring(2, 4);
		var format11 = birthday.substring(5, 7) + birthday.substring(2, 4) + birthday.substring(8, 10);
		var format12 = birthday.substring(8, 10) + birthday.substring(2, 4) + birthday.substring(5, 7);
		
		if (value === format1 || value === format2 || value === format3 || value === format4 || value === format5 || value === format6 || value === format7 || value === format8 || value === format9 || value === format10 || value === format11 || value === format12){
			return "密码中不能包含出生日期。";
		}
	}
	if (flag && mobile != '' && mobile != null && (mobile.substring(0,6) === value || mobile.substring(5,11) === value || mobile === value)) {
		return "密码不能是电话号码前、后6位。";
	}
	if (idcard != '' && idcard != null && value.toLowerCase()===idcard.toLowerCase()) {
		return "请不要将自己的证件号作为密码。";
	}
	else {
		return true;
	}
 
}

function CountChar(str, n, m){
	var len = str.length;
	for (var i=0; i < len-n; i++){
		var tmp = str.substring(i, i+n);
		var num = checkCount(str, tmp);
		if (num >= m){
			var regex = '^[\\d]*('+tmp+'){'+m+'}[\\d]*$';
		 	if ((new RegExp(regex)).test(str)){
		 		return false;
		      	break;
		 	}else{
		 		continue;
			}
		}
	}
	return true;
}

function checkCount(str, tmp){
	return str.split(tmp).length-1;
}


function getHost(url){
	var host = "null";
    if(typeof url == "undefined"|| null == url)
    {
       //url = window.location.href;
      return window.location.host;
    }else{
       url = url.indexOf('?')>-1?url.substring(0,url.indexOf('?')):url;
    }
    var regex = /.*\:\/\/([^\/]*).*/;
    var match = url.match(regex);
    if(typeof match != "undefined" && null != match)
    {
        host = match[1];
    }
    return host;

}

function getQueryString(name) {     
	var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");     
	var r = window.location.search.substr(1).match(reg);     
	if (r!=null) return unescape(r[2]);
	return null;     
}

clickEvent = function(element,eventName){
   if(element[eventName]){
   	element[eventName]();
   }else if(element.fireEvent){
    var evt = document.createEvent("MouseEvents");
    evt.initEvent(eventName, true, true);
    element.dispatchEvent(evt);
   }else if(document.createEvent){
    var evt = document.createEvent("MouseEvents");
    evt.initEvent(eventName, true, true);
    element.dispatchEvent(evt);
   	}        
 };     
